{"ast":null,"code":"import _slicedToArray from \"/home/anthony/Devweb/WILD/hackathon synaps/Synapsis/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/anthony/Devweb/WILD/hackathon synaps/Synapsis/front/src/components/5_searchBar/SearchBar.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link, withRouter } from 'react-router-dom';\n\nconst SearchBar = props => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        idUser = _useState2[0],\n        setIdUser = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        search = _useState4[0],\n        setSearch = _useState4[1];\n\n  const _useState5 = useState(0),\n        _useState6 = _slicedToArray(_useState5, 2),\n        catchId = _useState6[0],\n        setCatchId = _useState6[1];\n\n  useEffect(() => {\n    fetchDataUser();\n  }, []); //fetch de la data du user \n\n  const fetchDataUser = () => {\n    axios.get(`http://localhost:5000/users`).then(res => setIdUser(res.data)).catch(err => console.log(err));\n    props.history.push(`/routes/${catchId}`);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: \"lastname\",\n    name: \"lastname\",\n    value: search,\n    type: \"text\",\n    onChange: e => {\n      setSearch(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  })), console.log(search.toUpperCase()), idUser.filter(x => x.lastname === search).map(x => React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, x.lastname), React.createElement(\"button\", {\n    onClick: () => setCatchId(x.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"search\"))));\n};\n\nexport default withRouter(SearchBar);","map":{"version":3,"sources":["/home/anthony/Devweb/WILD/hackathon synaps/Synapsis/front/src/components/5_searchBar/SearchBar.js"],"names":["React","useState","useEffect","axios","Link","withRouter","SearchBar","props","idUser","setIdUser","search","setSearch","catchId","setCatchId","fetchDataUser","get","then","res","data","catch","err","console","log","history","push","e","target","value","toUpperCase","filter","x","lastname","map","id"],"mappings":";;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAwBC,SAAxB,QAAwC,OAAxC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;;AAGA,MAAMC,SAAS,GAAIC,KAAD,IAAS;AAAA,oBACKN,QAAQ,CAAC,EAAD,CADb;AAAA;AAAA,QAChBO,MADgB;AAAA,QACRC,SADQ;;AAAA,qBAEIR,QAAQ,CAAC,EAAD,CAFZ;AAAA;AAAA,QAEhBS,MAFgB;AAAA,QAETC,SAFS;;AAAA,qBAGMV,QAAQ,CAAC,CAAD,CAHd;AAAA;AAAA,QAGhBW,OAHgB;AAAA,QAGRC,UAHQ;;AAMvBX,EAAAA,SAAS,CAAC,MAAM;AACZY,IAAAA,aAAa;AAChB,GAFQ,EAEN,EAFM,CAAT,CANuB,CASrB;;AACF,QAAMA,aAAa,GAAG,MAAM;AAC5BX,IAAAA,KAAK,CAACY,GAAN,CAAW,6BAAX,EACCC,IADD,CACMC,GAAG,IAAIR,SAAS,CAACQ,GAAG,CAACC,IAAL,CADtB,EAECC,KAFD,CAEQC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAFhB;AAGQb,IAAAA,KAAK,CAACgB,OAAN,CAAcC,IAAd,CAAoB,WAAUZ,OAAQ,EAAtC;AAEP,GAND;;AASA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,EAAE,EAAC,UAAV;AAAqB,IAAA,IAAI,EAAC,UAA1B;AAAqC,IAAA,KAAK,EAAEF,MAA5C;AAAoD,IAAA,IAAI,EAAC,MAAzD;AACA,IAAA,QAAQ,EAAGe,CAAD,IAAO;AAAEd,MAAAA,SAAS,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT;AAA2B,KAD9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADR,EAOPN,OAAO,CAACC,GAAR,CAAYZ,MAAM,CAACkB,WAAP,EAAZ,CAPO,EAUUpB,MAAM,CAACqB,MAAP,CAAcC,CAAC,IAAIA,CAAC,CAACC,QAAF,KAAerB,MAAlC,EAA0CsB,GAA1C,CAA8CF,CAAC,IACjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIA,CAAC,CAACC,QAAN,CADJ,EAGI;AAAQ,IAAA,OAAO,EAAE,MAAIlB,UAAU,CAACiB,CAAC,CAACG,EAAH,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,CADE,CAVV,CADJ;AAoBH,CAvCD;;AAyCA,eAAe5B,UAAU,CAACC,SAAD,CAAzB","sourcesContent":["import React,{useState, useEffect} from 'react'\nimport axios from 'axios'\nimport { Link, withRouter } from 'react-router-dom';\n\n\nconst SearchBar = (props)=>{\n    const [idUser, setIdUser] = useState([])\n    const [search,setSearch] = useState('')\n    const [catchId,setCatchId] = useState(0)\n\n\n    useEffect(() => {\n        fetchDataUser()\n    }, [])\n      //fetch de la data du user \n    const fetchDataUser = () => {\n    axios.get(`http://localhost:5000/users`)\n    .then(res => setIdUser(res.data))\n    .catch((err) => console.log(err))\n            props.history.push(`/routes/${catchId}`)\n\n    }\n\n\n    return(\n        <div>\n                <form > \n                    <input id=\"lastname\" name=\"lastname\" value={search} type=\"text\"\n                    onChange={(e) => { setSearch(e.target.value) }} />\n                </form>\n\n             \n{console.log(search.toUpperCase())}\n            \n\n                 {idUser.filter(x => x.lastname === search).map(x =>\n                <div>\n                    <p>{x.lastname}</p>\n                    \n                    <button onClick={()=>setCatchId(x.id)}>search</button>\n                </div>\n            )}                \n        </div>\n    )\n}\n\nexport default withRouter(SearchBar);"]},"metadata":{},"sourceType":"module"}