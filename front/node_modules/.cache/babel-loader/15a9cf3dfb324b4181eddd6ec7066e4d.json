{"ast":null,"code":"import _slicedToArray from \"/home/issam1995/Bureau/synapsis_front/Synapsis_Front/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/issam1995/Bureau/synapsis_front/Synapsis_Front/front/src/components/5_searchBar/SearchBar.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nconst SearchBar = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        idUser = _useState2[0],\n        setIdUser = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        search = _useState4[0],\n        setSearch = _useState4[1];\n\n  let _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      catchResult = _useState6[0],\n      setCatchResult = _useState6[1];\n\n  const _useState7 = useState(),\n        _useState8 = _slicedToArray(_useState7, 2),\n        catchId = _useState8[0],\n        setCatchId = _useState8[1];\n\n  useEffect(() => {\n    fetchDataUser();\n  }, []); //fetch de la data du user \n\n  const fetchDataUser = () => {\n    axios.get(`https://synaps3.herokuapp.com/users`).then(res => setIdUser(res.data)).catch(err => console.log(err));\n  };\n\n  const filtreApi = () => {\n    idUser.filter(recherche => {\n      // if( search.toLocaleLowerCase() === x.firstname ||  search.toLocaleLowerCase() === x.lastname){\n      // setCatchResult([...catchResult, x])\n      // }\n      // return catchResult\n      let x = recherche.toLocaleLowerCases();\n      let y = search.toLocaleLowerCase();\n      x.includes(y) ? setCatchResult([...catchResult, x]) : catchResult;\n    });\n  };\n\n  useEffect(() => {\n    filtreApi();\n  }, [search]);\n\n  const changeHelper = e => {\n    setSearch(e.target.value);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: \"lastname\",\n    name: \"lastname\",\n    value: search,\n    type: \"text\",\n    onChange: e => changeHelper(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  })), idUser.filter(x => x.lastname.toUpperCase() === search.toUpperCase()).map(x => React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, catchResult.map(function (item) {\n    return React.createElement(\"div\", {\n      key: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \" \", item.firstname, \" \", item.lastname);\n  }), React.createElement(\"button\", {\n    onClick: () => setCatchId(x.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: `/routes/${catchId}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"search\")))));\n};\n\nexport default SearchBar;","map":{"version":3,"sources":["/home/issam1995/Bureau/synapsis_front/Synapsis_Front/front/src/components/5_searchBar/SearchBar.js"],"names":["React","useState","useEffect","axios","Link","SearchBar","idUser","setIdUser","search","setSearch","catchResult","setCatchResult","catchId","setCatchId","fetchDataUser","get","then","res","data","catch","err","console","log","filtreApi","filter","recherche","x","toLocaleLowerCases","y","toLocaleLowerCase","includes","changeHelper","e","target","value","lastname","toUpperCase","map","item","id","firstname"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom';\n\n\nconst SearchBar = ()=>{\n    const [idUser, setIdUser] = useState([])\n    const [search,setSearch] = useState('')\n    \n    let [ catchResult, setCatchResult]=useState([])\n\n    const [catchId,setCatchId] = useState()\n\n\n    useEffect(() => {\n        fetchDataUser()\n    }, [])\n      //fetch de la data du user \n    const fetchDataUser = () => {\n    axios.get(`https://synaps3.herokuapp.com/users`)\n    .then(res => setIdUser(res.data))\n    .catch((err) => console.log(err))\n    \n    }\n\n    const filtreApi=()=>{\n        idUser.filter(recherche =>{\n            // if( search.toLocaleLowerCase() === x.firstname ||  search.toLocaleLowerCase() === x.lastname){\n            // setCatchResult([...catchResult, x])\n            // }\n            // return catchResult\n           let x = recherche.toLocaleLowerCases()\n           let  y = search.toLocaleLowerCase()\n            x.includes(y) ? setCatchResult([...catchResult, x]) : catchResult\n\n        } )\n    }\n    useEffect( () => {\n    filtreApi()        \n\n    },[search])\n    const changeHelper = (e) => {\n        setSearch(e.target.value)\n        \n    }\n\n    return(\n        <div>\n                <form > \n                    <input id=\"lastname\" name=\"lastname\" value={search} type=\"text\"\n                    onChange={(e) =>  changeHelper(e)} />\n                </form>\n\n                {idUser.filter(x => x.lastname.toUpperCase() === search.toUpperCase()).map(x =>\n                <div>\n                {\n                catchResult.map(function(item) {\n                return <div key={item.id}> {item.firstname} {item.lastname}</div>\n                })\n                }\n                <button onClick={()=>setCatchId(x.id)}><Link to={`/routes/${catchId}`}>search</Link></button>\n                </div>\n            )}                \n        </div>\n    )\n}\n\nexport default SearchBar;"]},"metadata":{},"sourceType":"module"}